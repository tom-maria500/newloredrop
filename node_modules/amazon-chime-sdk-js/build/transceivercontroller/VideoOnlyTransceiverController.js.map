{"version":3,"file":"VideoOnlyTransceiverController.js","sourceRoot":"","sources":["../../src/transceivercontroller/VideoOnlyTransceiverController.ts"],"names":[],"mappings":";AAAA,qEAAqE;AACrE,sCAAsC;;;;;AAKtC,kGAA0E;AAE1E,MAAqB,8BAA+B,SAAQ,sCAA4B;IACtF,YACE,MAAc,EACd,eAAgC,EAChC,qBAAiD;QAEjD,KAAK,CAAC,MAAM,EAAE,eAAe,EAAE,qBAAqB,CAAC,CAAC;IACxD,CAAC;IAED,sBAAsB;QACpB,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,EAAE;YAC3B,OAAO;SACR;QAED,IAAI,CAAC,IAAI,CAAC,kBAAkB,IAAI,OAAO,WAAW,KAAK,WAAW,EAAE;YAClE,IAAI,CAAC,kBAAkB,GAAG,IAAI,WAAW,EAAE,CAAC;SAC7C;QAED,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE;YACjC,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE;gBAC/D,SAAS,EAAE,UAAU;gBACrB,OAAO,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC;aACnC,CAAC,CAAC;SACJ;IACH,CAAC;CACF;AAzBD,iDAyBC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport AudioVideoControllerState from '../audiovideocontroller/AudioVideoControllerState';\nimport BrowserBehavior from '../browserbehavior/BrowserBehavior';\nimport Logger from '../logger/Logger';\nimport DefaultTransceiverController from './DefaultTransceiverController';\n\nexport default class VideoOnlyTransceiverController extends DefaultTransceiverController {\n  constructor(\n    logger: Logger,\n    browserBehavior: BrowserBehavior,\n    meetingSessionContext?: AudioVideoControllerState\n  ) {\n    super(logger, browserBehavior, meetingSessionContext);\n  }\n\n  setupLocalTransceivers(): void {\n    if (!this.useTransceivers()) {\n      return;\n    }\n\n    if (!this.defaultMediaStream && typeof MediaStream !== 'undefined') {\n      this.defaultMediaStream = new MediaStream();\n    }\n\n    if (!this._localCameraTransceiver) {\n      this._localCameraTransceiver = this.peer.addTransceiver('video', {\n        direction: 'inactive',\n        streams: [this.defaultMediaStream],\n      });\n    }\n  }\n}\n"]}