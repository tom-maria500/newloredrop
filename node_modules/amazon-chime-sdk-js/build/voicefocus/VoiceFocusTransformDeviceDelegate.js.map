{"version":3,"file":"VoiceFocusTransformDeviceDelegate.js","sourceRoot":"","sources":["../../src/voicefocus/VoiceFocusTransformDeviceDelegate.ts"],"names":[],"mappings":";AAAA,qEAAqE;AACrE,sCAAsC;;AAMtC,gBAAgB;AAChB,MAAqB,iCAAiC;IAAtD;QACU,cAAS,GAA2C,IAAI,GAAG,EAAE,CAAC;IAsBxE,CAAC;IApBC,WAAW,CAAC,QAA2C;QACrD,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IAC/B,CAAC;IAED,cAAc,CAAC,QAA2C;QACxD,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IAClC,CAAC;IAED,gBAAgB;IAChB,UAAU,CAAC,MAAiC,EAAE,CAAQ;;QACpD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE;YACrC,MAAA,QAAQ,CAAC,+BAA+B,0CAAE,IAAI,CAAC,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;SACrE;IACH,CAAC;IAED,YAAY;;QACV,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE;YACrC,MAAA,QAAQ,CAAC,+BAA+B,0CAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC1D;IACH,CAAC;CACF;AAvBD,oDAuBC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { VoiceFocusDelegate } from '../../libs/voicefocus/types';\nimport VoiceFocusTransformDevice from './VoiceFocusTransformDevice';\nimport VoiceFocusTransformDeviceObserver from './VoiceFocusTransformDeviceObserver';\n\n/** @internal */\nexport default class VoiceFocusTransformDeviceDelegate implements VoiceFocusDelegate {\n  private observers: Set<VoiceFocusTransformDeviceObserver> = new Set();\n\n  addObserver(observer: VoiceFocusTransformDeviceObserver): void {\n    this.observers.add(observer);\n  }\n\n  removeObserver(observer: VoiceFocusTransformDeviceObserver): void {\n    this.observers.delete(observer);\n  }\n\n  /** @internal */\n  onFallback(device: VoiceFocusTransformDevice, e: Error): void {\n    for (const observer of this.observers) {\n      observer.voiceFocusFellBackToInnerStream?.call(observer, device, e);\n    }\n  }\n\n  onCPUWarning(): void {\n    for (const observer of this.observers) {\n      observer.voiceFocusInsufficientResources?.call(observer);\n    }\n  }\n}\n"]}