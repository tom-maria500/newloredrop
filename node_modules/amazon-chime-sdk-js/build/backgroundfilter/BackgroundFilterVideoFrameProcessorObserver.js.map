{"version":3,"file":"BackgroundFilterVideoFrameProcessorObserver.js","sourceRoot":"","sources":["../../src/backgroundfilter/BackgroundFilterVideoFrameProcessorObserver.ts"],"names":[],"mappings":";AAAA,qEAAqE;AACrE,sCAAsC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nexport interface FilterCPUUtilizationHighEvent {\n  cpuUtilization: number;\n  filterMillis: number;\n  periodMillis: number;\n}\n\nexport interface FilterFrameDurationHighEvent {\n  framesDropped: number;\n  avgFilterDurationMillis: number;\n  framerate: number;\n  periodMillis: number;\n}\n\n/**\n * An observer for the background filter video frame processor.\n *\n * Use {@link BackgroundFilterVideoFrameProcessor.addObserver} to register an\n * observer with the processor.\n */\nexport default interface BackgroundFilterVideoFrameProcessorObserver {\n  /**\n   * This event occurs when the amount of time it takes to apply the background filter is longer than expected. The\n   * measurement is taken from the time the process method starts to when it returns. For example, if the video\n   * is running at 15 frames per second and we are averaging more than 67 ms (1000 ms reporting period / 15 fps)\n   * to apply background filter, then a very large portion of each frame's maximum processing time is taken up by\n   * processing background filter.\n   *\n   * The observer will be called a maximum of once per {@link periodMillis}. In the event that the {@link avgFilterDurationMillis}\n   * is larger than expected the builder can use this event as a trigger to disable the background filter.\n   *\n   * @param event\n   * framesDropped: The expected amount of frames based on frame rate minus the actual number of frames.\n   * avgFilterDurationMillis: The average amount of time that the processor took per frame in the reporting period.\n   * framerate: The video frame rate set by the SDK.\n   * periodMillis: The duration of the reporting period in milliseconds.\n   */\n  filterFrameDurationHigh?: (event: FilterFrameDurationHighEvent) => void;\n\n  /**\n   * This event occurs when the CPU utilization of background filtering exceeds the `filterCPUUtilization` defined\n   * in the `BackgroundBlurOptions`.\n   *\n   * @param event\n   * cpuUtilization: The percentage of time that was spent processing background filter divided by the total reporting period time;\n   * filterMillis: Total time spent processing the background filter in milliseconds;\n   * periodMillis: Total time in the reporting period in milliseconds;\n   */\n  filterCPUUtilizationHigh?: (event: FilterCPUUtilizationHighEvent) => void;\n}\n"]}