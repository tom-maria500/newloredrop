{"version":3,"file":"VideoFxConstants.js","sourceRoot":"","sources":["../../src/videofx/VideoFxConstants.ts"],"names":[],"mappings":";AAAA,qEAAqE;AACrE,sCAAsC;;;AAMzB,QAAA,UAAU,GAAG;IACxB,oBAAoB,EAAE,oBAAoB;IAC1C,qBAAqB,EAAE,qBAAqB;IAE5C,4BAA4B,EAAE,4BAA4B;IAC1D,6BAA6B,EAAE,6BAA6B;IAE5D,gCAAgC,EAAE,+BAA+B;IACjE,iCAAiC,EAAE,gCAAgC;IAEnE,sBAAsB,EAAE,sBAAsB;IAC9C,uBAAuB,EAAE,uBAAuB;IAEhD,oBAAoB,EAAE,oBAAoB;CAC3C,CAAC;AAWW,QAAA,yBAAyB,GAAgC;IACpE,iBAAiB,EAAE,EAAE;IACrB,cAAc,EAAE,GAAG;IACnB,eAAe,EAAE,GAAG;IACpB,aAAa,EAAE,CAAC;CACjB,CAAC;AAEF,sFAAsF;AACtF,uBAAuB;AACV,QAAA,kBAAkB,GAAG;IAChC,YAAY,EAAE,CAAC;IACf,eAAe,EAAE,GAAG;IACpB,gBAAgB,EAAE,GAAG;CACtB,CAAC;AAEF,uDAAuD;AAC1C,QAAA,oBAAoB,GAAG;IAClC,mCAAmC,EAAE,EAAE;IAEvC,mCAAmC;IACnC,4CAA4C,EAAE,CAAC;IAC/C,wCAAwC,EAAE,GAAG;IAE7C,4BAA4B;IAC5B,6BAA6B,EAAE,EAAE;IACjC,gCAAgC,EAAE,IAAI;IAEtC,yDAAyD;IACzD,qBAAqB,EAAE,CAAC;IACxB,qBAAqB,EAAE,GAAG;CAC3B,CAAC;AAEW,QAAA,aAAa,GAAW,oCAAoC,CAAC;AAC1E,MAAM,cAAc,GAAG,0BAA0B,CAAC;AACrC,QAAA,WAAW,GAAW,GAAG,cAAc,YAAY,CAAC;AACpD,QAAA,UAAU,GAAW,GAAG,cAAc,WAAW,CAAC;AAElD,QAAA,qBAAqB,GAAgB;IAChD,KAAK,EAAE;QACL,WAAW,EAAE,qBAAa;QAC1B,UAAU,EAAE,mBAAW;QACvB,SAAS,EAAE,kBAAU;KACtB;CACF,CAAC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n// These are constants relating to communication between the VideoFxProcessor\n// and the VideoFxEngine\nimport VideoFxSpec from './VideoFxSpec';\n\nexport const WORKER_MSG = {\n  BUILD_ENGINE_REQUEST: 'BuildEngineRequest',\n  BUILD_ENGINE_RESPONSE: 'BuildEngineResponse',\n\n  PERFORM_SEGMENTATION_REQUEST: 'PerformSegmentationRequest',\n  PERFORM_SEGMENTATION_RESPONSE: 'PerformSegmentationResponse',\n\n  PERFORM_SEGMENTATION_SAB_REQUEST: 'PerformSegmentationSABRequest',\n  PERFORM_SEGMENTATION_SAB_RESPONSE: 'PerformSegmentationSABResponse',\n\n  DESTROY_ASSETS_REQUEST: 'DestroyAssetsRequest',\n  DESTROY_ASSETS_RESPONSE: 'DestroyAssetsResponse',\n\n  CLOSE_WORKER_REQUEST: 'CloseWorkerRequest',\n};\n\n// These are constants relating to the input stream/frames that are being used transformed\n// by the VideoFxProcessor\ninterface DefaultStreamParametersType {\n  FRAMES_PER_SECOND: number;\n  WIDTH_IN_PIXEL: number;\n  HEIGHT_IN_PIXEL: number;\n  CHANNEL_COUNT: number;\n}\n\nexport const DEFAULT_STREAM_PARAMETERS: DefaultStreamParametersType = {\n  FRAMES_PER_SECOND: 15,\n  WIDTH_IN_PIXEL: 960,\n  HEIGHT_IN_PIXEL: 540,\n  CHANNEL_COUNT: 4,\n};\n\n// These are constants relating to the status of different processes that get returned\n// by the VideoFxEngine\nexport const SEGMENTATION_MODEL = {\n  LOAD_SUCCESS: 2,\n  WIDTH_IN_PIXELS: 176,\n  HEIGHT_IN_PIXELS: 160,\n};\n\n// These are constants relating to resource constraints\nexport const RESOURCE_CONSTRAINTS = {\n  DEFAULT_PROCESSING_BUDGET_PER_FRAME: 50,\n\n  // Segmenation throttling constants\n  SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION: 1,\n  SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT: 500,\n\n  // Blur throttling constants\n  BLUR_DEFAULT_CYCLE_PERCENTAGE: 10,\n  BLUR_SAMPLING_PERIOD_FRAME_COUNT: 1000,\n\n  // General constants for throttling blur and segmentation\n  MIN_PROCESSING_BUDGET: 0,\n  MAX_PROCESSING_BUDGET: 100,\n};\n\nexport const CDN_BASE_PATH: string = 'https://static.sdkassets.chime.aws';\nconst MFX_ASSET_PATH = '/ml_media_fx/otherassets';\nexport const WORKER_PATH: string = `${MFX_ASSET_PATH}/worker.js`;\nexport const FXLIB_PATH: string = `${MFX_ASSET_PATH}/fxlib.js`;\n\nexport const DEFAULT_VIDEO_FX_SPEC: VideoFxSpec = {\n  paths: {\n    cdnBasePath: CDN_BASE_PATH,\n    workerPath: WORKER_PATH,\n    fxLibPath: FXLIB_PATH,\n  },\n};\n"]}