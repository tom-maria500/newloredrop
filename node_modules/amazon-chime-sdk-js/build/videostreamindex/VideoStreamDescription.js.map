{"version":3,"file":"VideoStreamDescription.js","sourceRoot":"","sources":["../../src/videostreamindex/VideoStreamDescription.ts"],"names":[],"mappings":";AAAA,qEAAqE;AACrE,sCAAsC;;AAEtC,oFAAoG;AAEpG,MAAqB,sBAAsB;IAkBzC,YACE,UAAmB,EACnB,OAAgB,EAChB,QAAiB,EACjB,cAAuB,EACvB,cAAuB;QAtBzB,eAAU,GAAW,EAAE,CAAC;QACxB,YAAO,GAAW,CAAC,CAAC;QACpB,aAAQ,GAAW,CAAC,CAAC;QACrB,SAAI,GAAW,CAAC,CAAC;QACjB,eAAU,GAAW,EAAE,CAAC;QACxB,mBAAc,GAAW,CAAC,CAAC;QAC3B,mEAAmE;QACnE,mBAAc,GAAW,CAAC,CAAC;QAC3B,iBAAY,GAAW,CAAC,CAAC;QACzB,UAAK,GAAW,CAAC,CAAC;QAClB,WAAM,GAAW,CAAC,CAAC;QACnB,gBAAW,GAAW,CAAC,CAAC;QACxB,gDAAgD;QAChD,qBAAgB,GAAY,KAAK,CAAC;QAClC,2BAAsB,GAAY,KAAK,CAAC;QACxC,QAAG,GAAW,EAAE,CAAC;QASf,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;IACvC,CAAC;IAED,KAAK;QACH,MAAM,OAAO,GAAG,IAAI,sBAAsB,EAAE,CAAC;QAC7C,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QACrC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC/B,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QACjC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACzB,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QACrC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;QAC7C,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;QAC7C,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;QACzC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACvC,OAAO,CAAC,sBAAsB,GAAG,IAAI,CAAC,sBAAsB,CAAC;QAC7D,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QAC3B,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC7B,OAAO,OAAO,CAAC;IACjB,CAAC;IAED,kBAAkB;QAChB,MAAM,UAAU,GAAG,0CAAmB,CAAC,MAAM,EAAE,CAAC;QAChD,UAAU,CAAC,SAAS,GAAG,yCAAkB,CAAC,KAAK,CAAC;QAEhD,UAAU,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QACxC,UAAU,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QACxC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QACpC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAClC,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC;QACzC,UAAU,CAAC,cAAc,GAAG,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC;QAClF,UAAU,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC;QAC/C,OAAO,UAAU,CAAC;IACpB,CAAC;IAED,WAAW;QACT,OAAO,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;IAClC,CAAC;CACF;AAlED,yCAkEC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { SdkStreamDescriptor, SdkStreamMediaType } from '../signalingprotocol/SignalingProtocol.js';\n\nexport default class VideoStreamDescription {\n  attendeeId: string = '';\n  groupId: number = 0;\n  streamId: number = 0;\n  ssrc: number = 0;\n  trackLabel: string = '';\n  maxBitrateKbps: number = 0;\n  // average bitrate is updated every 2 seconds via bitrates messages\n  avgBitrateKbps: number = 0;\n  maxFrameRate: number = 0;\n  width: number = 0;\n  height: number = 0;\n  timeEnabled: number = 0;\n  // Unused, should be removed in a future release\n  disabledByWebRTC: boolean = false;\n  disabledByUplinkPolicy: boolean = false;\n  rid: string = '';\n\n  constructor(\n    attendeeId?: string,\n    groupId?: number,\n    streamId?: number,\n    maxBitrateKbps?: number,\n    avgBitrateKbps?: number\n  ) {\n    this.attendeeId = attendeeId;\n    this.groupId = groupId;\n    this.streamId = streamId;\n    this.maxBitrateKbps = maxBitrateKbps;\n    this.avgBitrateKbps = avgBitrateKbps;\n  }\n\n  clone(): VideoStreamDescription {\n    const newInfo = new VideoStreamDescription();\n    newInfo.attendeeId = this.attendeeId;\n    newInfo.groupId = this.groupId;\n    newInfo.streamId = this.streamId;\n    newInfo.ssrc = this.ssrc;\n    newInfo.trackLabel = this.trackLabel;\n    newInfo.maxBitrateKbps = this.maxBitrateKbps;\n    newInfo.avgBitrateKbps = this.avgBitrateKbps;\n    newInfo.maxFrameRate = this.maxFrameRate;\n    newInfo.timeEnabled = this.timeEnabled;\n    newInfo.disabledByUplinkPolicy = this.disabledByUplinkPolicy;\n    newInfo.width = this.width;\n    newInfo.height = this.height;\n    return newInfo;\n  }\n\n  toStreamDescriptor(): SdkStreamDescriptor {\n    const descriptor = SdkStreamDescriptor.create();\n    descriptor.mediaType = SdkStreamMediaType.VIDEO;\n\n    descriptor.trackLabel = this.trackLabel;\n    descriptor.attendeeId = this.attendeeId;\n    descriptor.streamId = this.streamId;\n    descriptor.groupId = this.groupId;\n    descriptor.framerate = this.maxFrameRate;\n    descriptor.maxBitrateKbps = this.disabledByUplinkPolicy ? 0 : this.maxBitrateKbps;\n    descriptor.avgBitrateBps = this.avgBitrateKbps;\n    return descriptor;\n  }\n\n  totalPixels(): number {\n    return this.width * this.height;\n  }\n}\n"]}