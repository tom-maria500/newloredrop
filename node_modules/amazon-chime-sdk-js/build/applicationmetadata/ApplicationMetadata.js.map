{"version":3,"file":"ApplicationMetadata.js","sourceRoot":"","sources":["../../src/applicationmetadata/ApplicationMetadata.ts"],"names":[],"mappings":";AAAA,qEAAqE;AACrE,sCAAsC;;AAEtC;;;;;;;;;;;;;;;;;;;;;;;;;GAyBG;AACH,MAAqB,mBAAmB;IACtC,YAAoC,OAAe,EAAkB,UAAkB;QAAnD,YAAO,GAAP,OAAO,CAAQ;QAAkB,eAAU,GAAV,UAAU,CAAQ;IAAG,CAAC;IAC3F;;;;;;;;;;OAUG;IACH,MAAM,CAAC,MAAM,CAAC,OAAe,EAAE,UAAkB;QAC/C,MAAM,cAAc,GAAG,2CAA2C,CAAC;QACnE,IAAI,CAAC,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,EAAE,EAAE;YACnC,MAAM,IAAI,KAAK,CAAC,mEAAmE,CAAC,CAAC;SACtF;QACD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;YACjC,MAAM,IAAI,KAAK,CAAC,wBAAwB,cAAc,qBAAqB,CAAC,CAAC;SAC9E;QAED,MAAM,iBAAiB,GAAG,uLAAuL,CAAC;QAClN,IAAI,CAAC,UAAU,IAAI,UAAU,CAAC,MAAM,GAAG,EAAE,EAAE;YACzC,MAAM,IAAI,KAAK,CAAC,sEAAsE,CAAC,CAAC;SACzF;QACD,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YACvC,MAAM,IAAI,KAAK,CAAC,oDAAoD,CAAC,CAAC;SACvE;QACD,OAAO,IAAI,mBAAmB,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;IACtD,CAAC;CACF;AA/BD,sCA+BC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n/**\n *\n * [[ApplicationMetadata]] contains application metadata such as application name and version.\n * Amazon Chime SDK for JavaScript allows builders to provide application metadata in\n * the meeting session configuration. This field is optional. Amazon Chime uses application metadata to\n * analyze meeting health trends or identify common failures to improve your meeting experience.\n *\n * Do not pass any Personal Identifiable Information (PII).\n *\n * ```js\n * import { MeetingSessionConfiguration, ApplicationMetadata } from 'amazon-chime-sdk-js';\n *\n * const createMeetingResponse = // CreateMeeting API response.\n * const createAttendeeResponse = // CreateAttendee API response.\n * const meetingSessionConfiguration = new MeetingSessionConfiguration(\n *  createMeetingResponse,\n *  createAttendeeResponse\n * );\n *\n * meetingSessionConfiguration.applicationMetadata = ApplicationMetadata.create({\n *  appName: 'AppName',\n *  appVersion: '1.0.0'\n * });\n *\n * ```\n */\nexport default class ApplicationMetadata {\n  private constructor(public readonly appName: string, public readonly appVersion: string) {}\n  /**\n   *\n   * @param appName Builder's application name.\n   * The app name must satisfy following regular expression:\n   * `/^[a-zA-Z0-9]+[a-zA-Z0-9_-]*[a-zA-Z0-9]+$/g`\n   *\n   * @param appVersion Builder's application version.\n   * The app version must follow the [Semantic Versioning](https://semver.org/) format.\n   *\n   * @returns [[ApplicationMetadata]]\n   */\n  static create(appName: string, appVersion: string): ApplicationMetadata {\n    const APP_NAME_REGEX = /^[a-zA-Z0-9]+[a-zA-Z0-9_-]*[a-zA-Z0-9]+$/g;\n    if (!appName || appName.length > 32) {\n      throw new Error(`appName should be a valid string and 1 to 32 characters in length`);\n    }\n    if (!APP_NAME_REGEX.test(appName)) {\n      throw new Error(`appName must satisfy ${APP_NAME_REGEX} regular expression`);\n    }\n\n    const APP_VERSION_REGEX = /^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$/gm;\n    if (!appVersion || appVersion.length > 32) {\n      throw new Error(`appVersion should be a valid string and 1 to 32 characters in length`);\n    }\n    if (!APP_VERSION_REGEX.test(appVersion)) {\n      throw new Error(`appVersion must satisfy Semantic Versioning format`);\n    }\n    return new ApplicationMetadata(appName, appVersion);\n  }\n}\n"]}