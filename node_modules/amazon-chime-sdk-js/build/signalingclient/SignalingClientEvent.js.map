{"version":3,"file":"SignalingClientEvent.js","sourceRoot":"","sources":["../../src/signalingclient/SignalingClientEvent.ts"],"names":[],"mappings":";AAAA,qEAAqE;AACrE,sCAAsC;;;;;AAItC,0FAAkE;AAElE;;GAEG;AACH,MAAqB,oBAAoB;IAGvC;;;;;OAKG;IACH,YACS,MAAuB,EACvB,IAA8B,EAC9B,OAAuB,EACvB,SAAkB,EAClB,WAAoB;QAJpB,WAAM,GAAN,MAAM,CAAiB;QACvB,SAAI,GAAJ,IAAI,CAA0B;QAC9B,YAAO,GAAP,OAAO,CAAgB;QACvB,cAAS,GAAT,SAAS,CAAS;QAClB,gBAAW,GAAX,WAAW,CAAS;QAE3B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;IAChC,CAAC;IAED,sBAAsB;QACpB,QAAQ,IAAI,CAAC,IAAI,EAAE;YACjB,KAAK,kCAAwB,CAAC,eAAe,CAAC;YAC9C,KAAK,kCAAwB,CAAC,cAAc,CAAC;YAC7C,KAAK,kCAAwB,CAAC,gBAAgB,CAAC;YAC/C,KAAK,kCAAwB,CAAC,eAAe;gBAC3C,OAAO,IAAI,CAAC;YACd;gBACE,OAAO,KAAK,CAAC;SAChB;IACH,CAAC;CACF;AA9BD,uCA8BC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { SdkSignalFrame } from '../signalingprotocol/SignalingProtocol.js';\nimport SignalingClient from './SignalingClient';\nimport SignalingClientEventType from './SignalingClientEventType';\n\n/*\n * [[SignalingClientEvent]] stores an event that can be sent to observers of the SignalingClient.\n */\nexport default class SignalingClientEvent {\n  timestampMs: number;\n\n  /** Initializes a SignalingClientEvent with the given SignalingClientEventType.\n   *\n   * @param client Indicates the SignalingClient associated with the event.\n   * @param type Indicates the kind of event.\n   * @param message SdkSignalFrame if type is ReceivedSignalFrame\n   */\n  constructor(\n    public client: SignalingClient,\n    public type: SignalingClientEventType,\n    public message: SdkSignalFrame,\n    public closeCode?: number,\n    public closeReason?: string\n  ) {\n    this.timestampMs = Date.now();\n  }\n\n  isConnectionTerminated(): boolean {\n    switch (this.type) {\n      case SignalingClientEventType.WebSocketFailed:\n      case SignalingClientEventType.WebSocketError:\n      case SignalingClientEventType.WebSocketClosing:\n      case SignalingClientEventType.WebSocketClosed:\n        return true;\n      default:\n        return false;\n    }\n  }\n}\n"]}